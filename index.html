<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamrah â¤ï¸ Abbas</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --emerald: #065f46; --light-green: #10b981; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #052c14, #065f46); color: white; text-align: center; min-height: 100vh; overflow-x: hidden; }
        #lock-screen { position: fixed; inset: 0; background: #052c14; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        input { padding: 12px; border-radius: 10px; border: none; margin: 10px; text-align: center; font-size: 18px; width: 220px; }
        #timer-container { background: rgba(255, 255, 255, 0.1); padding: 15px; margin: 20px auto; width: 85%; border-radius: 15px; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1); }
        .timer-grid { display: flex; justify-content: center; gap: 10px; }
        .timer-block span { display: block; font-size: 22px; color: #ffb6c1; font-weight: bold; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; max-width: 350px; margin: 25px auto; padding: 0 15px; }
        .card { aspect-ratio: 1/1; background: rgba(255, 255, 255, 0.15); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 28px; cursor: pointer; border: 1px solid rgba(255,255,255,0.2); transition: 0.3s; }
        .card:active { transform: scale(0.9); background: var(--light-green); }
        .popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #064e3b; padding: 20px; border-radius: 25px; display: none; width: 85%; max-width: 320px; z-index: 999; box-shadow: 0 20px 60px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.2); }
        .popup img { width: 100%; border-radius: 15px; margin-bottom: 15px; border: 2px solid white; object-fit: cover; height: 250px; }
        button { background: white; color: var(--emerald); padding: 14px 25px; border: none; border-radius: 25px; font-weight: bold; margin-top: 10px; font-size: 16px; }
        #player-wrapper { position: absolute; top: -500px; opacity: 0; }
    </style>
</head>
<body>

<div id="lock-screen">
    <h2 style="color: #ffb6c1;">Hamrah â¤ï¸ Abbas</h2>
    <p>Enter the year we first met ğŸ’š</p>
    <input type="password" id="passInput" pattern="\d*" inputmode="numeric" placeholder="YYYY">
    <button onclick="checkPass()">Unlock Our World ğŸ”“</button>
</div>

<div id="main-content" style="display:none">
    <h1 style="margin-top: 20px;">Hamrah ğŸ’š Abbas</h1>
    
    <div id="timer-container">
        <p style="margin: 0 0 10px 0; font-size: 14px; opacity: 0.8;">Time spent loving you:</p>
        <div class="timer-grid">
            <div class="timer-block"><span id="days">0</span>Days</div>
            <div class="timer-block"><span id="hours">0</span>Hrs</div>
            <div class="timer-block"><span id="mins">0</span>Min</div>
            <div class="timer-block"><span id="secs">0</span>Sec</div>
        </div>
    </div>

    <div class="grid">
        <div class="card" onclick="openMemory(1)">ğŸ’š</div>
        <div class="card" onclick="openMemory(2)">ğŸŒ¹</div>
        <div class="card" onclick="openMemory(3)">âœ¨</div>
        <div class="card" onclick="openMemory(4)">ğŸ«‚</div>
        <div class="card" onclick="openMemory(5)">ğŸ”’</div>
        <div class="card" onclick="openMemory(6)">ğŸ’Œ</div>
    </div>

    <div id="player-wrapper">
        <div id="player"></div>
    </div>

    <div class="popup" id="popup">
        <img id="photo" src="">
        <p id="text" style="line-height: 1.5;"></p>
        <button onclick="closePopup()">Continue ğŸ’š</button>
    </div>

    <div class="popup" id="final">
        <p style="font-size: 18px;"><b>May 18th, 2023 â¤ï¸</b></p>
        <p>Every second with you is a blessing. Abbasâ€¦ will you stay with me forever?</p>
        <button onclick="yes()">YES â¤ï¸</button>
    </div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
    let player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '0', width: '0',
            videoId: 'dQw4w9WgXcQ', // <--- Change this if needed
            playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1 }
        });
    }

    const startDate = new Date("May 18, 2023 00:00:00").getTime();
    const correctPassword = "2023"; 

    function checkPass() {
        if(document.getElementById("passInput").value === correctPassword) {
            document.getElementById("lock-screen").style.display = "none";
            document.getElementById("main-content").style.display = "block";
            if(player && player.playVideo) { player.playVideo(); }
            startTimer();
        } else { alert("Oops! Wrong code my love. ğŸ¤«"); }
    }

    function startTimer() {
        setInterval(() => {
            const diff = new Date().getTime() - startDate;
            document.getElementById("days").innerText = Math.floor(diff / 86400000);
            document.getElementById("hours").innerText = Math.floor((diff % 86400000) / 3600000);
            document.getElementById("mins").innerText = Math.floor((diff % 3600000) / 60000);
            document.getElementById("secs").innerText = Math.floor((diff % 60000) / 1000);
        }, 1000);
    }

    // matched to your filenames from the screenshot
    var memories = [
        { photo: "1.png", text: "The day my heart chose you. â¤ï¸" },
        { photo: "2.png", text: "Our beautiful first date. âœ¨" },
        { photo: "3.png", text: "My favorite smile in the world. ğŸ’š" },
        { photo: "4.jpg", text: "You are my peace and my home." },
        { photo: "5.png", text: "Almost 3 years of making memories." },
        { photo: "6.jpg", text: "Click continue... I have a question. ğŸ’Œ" }
    ];

    var opened = 0;
    function openMemory(i){
        document.getElementById("photo").src = memories[i-1].photo;
        document.getElementById("text").innerText = memories[i-1].text;
        document.getElementById("popup").style.display = "block";
        opened++;
    }

    function closePopup(){
        document.getElementById("popup").style.display = "none";
        if(opened >= 6) document.getElementById("final").style.display = "block";
    }

    function yes() {
        document.getElementById("final").innerHTML = "<h2>YES! â¤ï¸</h2><p>I love you forever, Abbas. ğŸ¥¹ğŸ’š</p>";
        var end = Date.now() + (10 * 1000);
        (function frame() {
            confetti({ particleCount: 5, angle: 60, spread: 70, origin: { x: 0 } });
            confetti({ particleCount: 5, angle: 120, spread: 70, origin: { x: 1 } });
            if (Date.now() < end) requestAnimationFrame(frame);
        }());
    }
</script>
</body>
</html>
